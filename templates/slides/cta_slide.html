{% extends "base.html" %}

{% block extra_styles %}
<style>
    .cta-content {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        height: 100%;
        padding: 60px 60px;
        text-align: center;
        box-sizing: border-box;
        overflow: hidden;
    }

    .cta-main-text {
        font-size: {{ font_size|default('60px') }};
        font-weight: 800;
        line-height: 1.25;
        color: var(--text-primary);
        letter-spacing: -0.02em;
        max-width: 950px;
        margin-bottom: 50px;
    }

    /* Adaptive sizing for different text lengths */
    .cta-main-text.compact {
        font-size: 68px;
        line-height: 1.2;
    }

    .cta-main-text.medium {
        font-size: 56px;
        line-height: 1.25;
    }

    .cta-main-text.long {
        font-size: 48px;
        line-height: 1.3;
    }

    .cta-main-text.very-long {
        font-size: 40px;
        line-height: 1.35;
        margin-bottom: 30px;
    }

    .cta-main-text.ultra-long {
        font-size: 34px;
        line-height: 1.4;
        margin-bottom: 25px;
        letter-spacing: -0.01em;
    }

    /* Accent line separator */
    .accent-line {
        width: 100px;
        height: 5px;
        background: var(--accent);
        border-radius: 3px;
        margin-bottom: 40px;
    }

    /* Reduce spacing for very long text */
    .very-long ~ .accent-line,
    .ultra-long ~ .accent-line {
        margin-bottom: 25px;
        width: 80px;
        height: 4px;
    }

    /* Engagement prompt section */
    .engagement-section {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 15px;
    }

    .engagement-prompt {
        font-size: 22px;
        font-weight: 500;
        color: var(--text-secondary);
        letter-spacing: 0.05em;
    }

    /* Smaller engagement for long text */
    .very-long ~ .accent-line ~ .engagement-section,
    .ultra-long ~ .accent-line ~ .engagement-section {
        gap: 12px;
    }

    .very-long ~ .accent-line ~ .engagement-section .engagement-prompt,
    .ultra-long ~ .accent-line ~ .engagement-section .engagement-prompt {
        font-size: 18px;
    }

    /* Action buttons */
    .action-buttons {
        display: flex;
        gap: 24px;
        margin-top: 20px;
    }

    .action-button {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 16px 28px;
        border-radius: 50px;
        font-size: 18px;
        font-weight: 600;
        background: var(--bg-secondary, rgba(255, 255, 255, 0.1));
        color: var(--text-primary);
        border: 2px solid var(--border-color, rgba(255, 255, 255, 0.2));
    }

    .action-button.primary {
        background: var(--accent);
        color: var(--highlight-text, #000);
        border-color: var(--accent);
    }

    .action-button svg {
        width: 22px;
        height: 22px;
    }

    /* Icon row (simpler version) */
    .icon-row {
        display: flex;
        gap: 35px;
        margin-top: 20px;
    }

    .icon-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 8px;
        color: var(--text-secondary);
        font-size: 15px;
        font-weight: 500;
    }

    .icon-item svg {
        width: 28px;
        height: 28px;
        opacity: 0.8;
    }

    /* Smaller icons for very long text */
    .very-long ~ .accent-line ~ .engagement-section .icon-row,
    .ultra-long ~ .accent-line ~ .engagement-section .icon-row {
        gap: 25px;
        margin-top: 10px;
    }

    .very-long ~ .accent-line ~ .engagement-section .icon-item,
    .ultra-long ~ .accent-line ~ .engagement-section .icon-item {
        font-size: 13px;
        gap: 6px;
    }

    .very-long ~ .accent-line ~ .engagement-section .icon-item svg,
    .ultra-long ~ .accent-line ~ .engagement-section .icon-item svg {
        width: 24px;
        height: 24px;
    }

    /* Hashtag display */
    .hashtags {
        margin-top: 40px;
        font-size: 18px;
        color: var(--accent);
        opacity: 0.8;
        max-width: 800px;
        line-height: 1.6;
    }
</style>
{% endblock %}

{% block content %}
<div class="cta-content">
    <h2 class="cta-main-text {{ text_size_class|default('') }}">
        {{ formatted_text|safe }}
    </h2>

    <div class="accent-line"></div>

    <div class="engagement-section">
        {% if engagement_prompt %}
        <p class="engagement-prompt">{{ engagement_prompt }}</p>
        {% endif %}

        {% if show_action_buttons %}
        <div class="action-buttons">
            <div class="action-button">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/>
                </svg>
                <span>Save</span>
            </div>
            <div class="action-button">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="18" cy="5" r="3"/>
                    <circle cx="6" cy="12" r="3"/>
                    <circle cx="18" cy="19" r="3"/>
                    <path d="M8.59 13.51l6.83 3.98M15.41 6.51l-6.82 3.98"/>
                </svg>
                <span>Share</span>
            </div>
        </div>
        {% else %}
        <div class="icon-row">
            <div class="icon-item">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/>
                </svg>
                <span>Save</span>
            </div>
            <div class="icon-item">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="18" cy="5" r="3"/>
                    <circle cx="6" cy="12" r="3"/>
                    <circle cx="18" cy="19" r="3"/>
                    <path d="M8.59 13.51l6.83 3.98M15.41 6.51l-6.82 3.98"/>
                </svg>
                <span>Share</span>
            </div>
            <div class="icon-item">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                </svg>
                <span>Comment</span>
            </div>
        </div>
        {% endif %}

        {% if hashtags %}
        <p class="hashtags">{{ hashtags }}</p>
        {% endif %}
    </div>
</div>
{% endblock %}
